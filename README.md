# Meal Training Logger

毎日の **食事・トレーニング・体重** を “LINEレポート形式” で素早くまとめ、  
「手入力の負担を下げつつ、自分の行動ログとしても活用できる」  
ミニWebアプリケーションです。

- LINEへの食事・運動記録報告を省力化  
- スマホでサクッと入力して、そのままコピペ or 送信  
- データがローカルに溜まれば、ゆるく振り返りや分析にも使える  
- UIは少しだけ Kawaii、でも中身はロジカル  

> 開発方式は Scrum（疑似）。  
> プロダクトオーナー＝ごうけん、スクラムマスター＝ひな、開発＝ひな＋ごうけんの2名体制。

---

## 📌 1. Purpose（目的）

現状、食事記録や運動記録をLINEで手動報告しているが、

- 食事内容  
- 体重（朝/夜）  
- 運動内容  
- 写真添付  

これらを毎回手作業で文字に書き起こすのは手間・時間負担が大きい。

**Meal Training Logger** は  
この“報告作業の面倒な部分”を自動化しつつ、  
自分のログとしても役立つようにすることを目的とする。

---

## 🎯 2. MVP（Minimum Viable Product）

**MVP（最小価値）で提供する機能は以下の4つ：**

1. **データ入力フォーム**  
   - 日付  
   - 朝体重 / 夜体重  
   - 食事（朝・昼・夜・間食）  
   - 運動（消費カロリー / ジム種目メモ）

2. **LINE用の“定型文生成”**  
   入力値から自動でフォーマット化された文章を生成。

3. **ワンタップコピー機能**  
   生成文章をクリップボードにコピーして、LINEにペーストするだけにする。

4. **localStorage保存 & 軽い履歴一覧**  
   少量のデータをローカルに保持し、直近記録を一覧表示する。

> 「まずは LINEレポの作成時間を減らし、日常の負担を下げる」ことが MVP のゴール。

---

## 🚀 3. Future Backlog（将来の拡張案）

MVP後に順次対応する予定の機能：

### 🔧 機能拡張
- **LINE Notify 送信機能**（文章の自動送信）
- **履歴のフィルタ/検索**
- **体重/運動の簡易グラフ表示（週/月）**
- **食事ジャンルに応じた絵文字タグ（🍚🥗🍜🔥）**
- **PWA 対応（アプリアイコン化 / フルスクリーン起動）**
- **写真添付との連動（難易度高）**
- **CSV / JSON でのエクスポート**

### 💖 Kawaii＋継続支援
- **ごほうびコメント生成（簡易AI風）**  
  - 例：「今日はタンパク質バランス良きだよ💪」  
  - 条件・コメントはマーケ担当（＝ごうけん）がUIから編集可能にする

- **連続記録バッジ（7日、14日、30日）**  
  - 「よくがんばったね」的な軽いバッジを付与

---

## 🏗 4. Architecture（設計思想）

将来的な拡張（LINE連携、写真、DB移行）を見据え、  
**レイヤードアーキテクチャ**で構成する。

---

### **4.1 レイヤー構成**

UI Layer
├─ 入力フォーム
├─ 履歴一覧
└─ ボタン（生成・コピー）

Domain Logic Layer
├─ 入力値 → Recordオブジェクト整形
├─ 定型文生成ロジック
├─ ごほうびコメントロジック（将来）
└─ バリデーション

Interfaces Layer（IF層）
├─ UI ⇔ Domain の受け渡し契約
├─ Domain ⇔ Data の抽象インターフェース
└─ 保存先の切替（localStorage → DB）を隠蔽

Data Layer
├─ localStorage CRUD
├─ （将来）DB / API クライアント
└─ （将来）CSV / JSON エクスポート

---

### **4.2 設計原則（Principles）**

- **UI とロジックを疎結合にする**  
  → UI変更がロジックに波及しない構造

- **データ保存先の抽象化**  
  → localStorage → Supabase / SQLite / API に移行可能

- **ごほうびコメントは“データ駆動”で実装**  
  → ロジック直書きではなく、  
    条件テーブル＋メッセージテーブル方式で拡張性確保

- **小さく作って大きく育てる（Agile）**

---

## 📦 5. Tech Stack（予定）

- **Front-end:** React + TypeScript + Vite  
- **Storage:** localStorage（MVP）→ DB or API（将来）  
- **Build Tools:** Node.js / npm  
- **Version Control:** Git + GitHub  
- **Workflow:** Scrum（疑似）＋ GitHub Projects

---

## 📝 6. Development Process（開発プロセス）

- GitHub Projects を利用したスクラム管理  
- スプリント単位でタスクを分割  
- Issue駆動で実装  
- コミットコメントは簡易でOK（feature: xxx / fix: yyy）  
- スプリントごとに軽いレビュー＆ふりかえりを実施

---

## ✨ 7. Author

- Product Owner / Tech Lead / Dev.: **ごうけん**  
- Scrum Master / Tech Adviser / Dev: **ひな（ChatGPT）**  
- Code Reviewer / Debug Assistant: **みな（ChatGPT Codex）**  

---

## 🛠️ 8. Changelog

- v1.0.2（2026-02-10）
  送信先（ChatGPT／LINE／Copilot）ごとに記録フォーマットを切り替えられる機能を追加。
  プレビュー・コピー内容が用途に応じて最適化されるよう改善。
  内部ロジックを整理し、今後のフォーマット追加にも対応しやすい構造に変更。
- v1.0.1（2026-02-08）  
  ローカル履歴の JSON エクスポート／インポート機能を追加し、iPhone → PC 間で履歴を移行できるようにした。  
  食事・体重プレビューを `[朝] 5:20頃：〜` 形式に統一し、朝／昼／夜の「（記録なし）」表示を追加。  
  日付の必須化と体重の簡易バリデーション（10〜999kgのみ許容）、テキストエリア行数やプレースホルダなどUIの微調整を実施。
- v1.0.0（2026-02-08）  
  基本入力UI・DailyRecord構造化・定型文生成ロジック・最新記録(localStorage)同期・履歴保存機能を実装したMVP版。
   
---
